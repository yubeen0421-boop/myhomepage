<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>âœ¨ TWS ìŠ¤íƒ€ì¼ í…ŒìŠ¤íŠ¸</title>
    <!-- Tailwind CSS ë¡œë“œ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* TWSì˜ ì²­ëŸ‰í•œ ëŠë‚Œì„ ì‚´ë¦° ë°°ê²½ ê·¸ë¼ë°ì´ì…˜ */
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #e0f7fa 0%, #b3e5fc 100%);
        }
        .app-container {
            max-width: 600px;
        }
        /* ë²„íŠ¼ ê³µí†µ ìŠ¤íƒ€ì¼ */
        .btn-answer {
            transition: all 0.2s ease-in-out;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .btn-answer:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);
            background-color: #00bcd4; /* TWS í¬ì¸íŠ¸ ì»¬ëŸ¬ */
            color: white !important;
        }
        /* ë¡œë”© ìŠ¤í”¼ë„ˆ (API í˜¸ì¶œ ì‹œ ì‚¬ìš© ê°€ëŠ¥) */
        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid #00bcd4;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="p-4 flex items-center justify-center min-h-screen">

    <div id="app-container" class="app-container bg-white p-6 md:p-10 rounded-xl shadow-2xl w-full">
        <header class="mb-8 text-center">
            <h1 class="text-3xl font-extrabold text-[#00bcd4] mb-2 md:text-4xl">
                âœ¨ TWS ìŠ¤íƒ€ì¼ ì°¾ê¸° í…ŒìŠ¤íŠ¸ âœ¨
            </h1>
            <p class="text-gray-500 text-sm">ë‹¹ì‹ ì˜ ë³´ì´í›„ë“œ íŒ ë¬´ë“œ ì§„ë‹¨</p>
        </header>

        <!-- 1. ì‹œì‘ í™”ë©´ -->
        <div id="start-page" class="text-center transition-opacity duration-500">
            <p class="text-lg mb-8 text-gray-600">
                ì¼ìƒì˜ ëª¨ë“  ìˆœê°„ì„ íŠ¹ë³„í•˜ê²Œ ë§Œë“œëŠ”, ë‹¹ì‹ ë§Œì˜ TWS ìŠ¤íƒ€ì¼ì€ ë¬´ì—‡ì¼ê¹Œìš”?
            </p>
            <button id="start-button" class="w-full bg-[#00bcd4] hover:bg-[#0097a7] text-white font-bold py-3 rounded-full text-xl shadow-lg transition duration-300">
                í…ŒìŠ¤íŠ¸ ì‹œì‘
            </button>
        </div>

        <!-- 2. ì§ˆë¬¸ í™”ë©´ -->
        <div id="question-page" class="hidden transition-opacity duration-500">
            <div class="mb-6">
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                    <div id="progress-bar" class="bg-[#00bcd4] h-2.5 rounded-full transition-all duration-300" style="width: 0%"></div>
                </div>
                <p id="progress-text" class="text-sm text-gray-500 mt-2 text-right">0/8</p>
            </div>

            <h2 id="question-text" class="text-xl md:text-2xl font-semibold text-gray-800 mb-8 min-h-[60px] flex items-center justify-center text-center">
                <!-- ì§ˆë¬¸ ë‚´ìš©ì´ ë“¤ì–´ê°ˆ ìë¦¬ -->
            </h2>

            <div id="answer-buttons" class="space-y-4">
                <!-- ë‹µë³€ ë²„íŠ¼ë“¤ì´ ì—¬ê¸°ì— ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </div>
        </div>

        <!-- 3. ê²°ê³¼ í™”ë©´ -->
        <div id="result-page" class="hidden text-center transition-opacity duration-500">
            <div id="loading-spinner" class="hidden">
                <div class="spinner"></div>
                <p class="text-gray-600 mt-4">ê²°ê³¼ë¥¼ ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤...</p>
            </div>
            
            <div id="result-content" class="hidden">
                <h2 class="text-2xl font-bold text-[#00bcd4] mb-4">
                    ğŸ‰ ë‹¹ì‹ ì˜ TWS ìŠ¤íƒ€ì¼ì€?
                </h2>
                <div class="p-6 bg-[#f0f8ff] border-2 border-[#b3e5fc] rounded-xl shadow-md">
                    <!-- ê²°ê³¼ ì´ë¯¸ì§€ (í”Œë ˆì´ìŠ¤í™€ë”) -->
                    <img id="result-image" src="https://placehold.co/400x200/b3e5fc/00bcd4?text=TWS+Style" 
                         onerror="this.onerror=null; this.src='https://placehold.co/400x200/b3e5fc/00bcd4?text=Style+Image';"
                         alt="í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì´ë¯¸ì§€" class="w-full h-auto rounded-lg mb-4 object-cover">
                    
                    <h3 id="result-title" class="text-2xl font-extrabold text-[#00bcd4] mb-2"></h3>
                    <p id="result-type" class="text-sm font-medium text-gray-700 mb-4"></p>
                    <p id="result-description" class="text-gray-600 leading-relaxed"></p>
                </div>
                
                <button id="restart-button" class="w-full mt-8 bg-gray-400 hover:bg-gray-500 text-white font-bold py-3 rounded-full text-lg transition duration-300">
                    ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•˜ê¸°
                </button>
            </div>
        </div>
    </div>

    <script>
        // ì§ˆë¬¸ ë°ì´í„° (MBTI 4ìŒì— ëŒ€í•œ 2ê°œì”©, ì´ 8ê°œ ì§ˆë¬¸)
        const questions = [
            // E-I (ì™¸í–¥-ë‚´í–¥)
            { id: 1, text: "ìƒˆë¡œìš´ ëª¨ì„ì—ì„œ ë‹¹ì‹ ì€ ì£¼ë¡œ ì–´ë–¤ ì—­í• ì„ í•˜ë‚˜ìš”?", 
              answers: [
                  { text: "ë¨¼ì € ë‹¤ê°€ê°€ ë§ì„ ê±¸ê³  ë¶„ìœ„ê¸°ë¥¼ ì£¼ë„í•œë‹¤.", type: 'E' },
                  { text: "ì¡°ìš©íˆ ê²½ì²­í•˜ë©° ëŒ€í™”ì˜ íë¦„ì„ ê´€ì°°í•œë‹¤.", type: 'I' }
              ]},
            { id: 2, text: "ì¬ì¶©ì „ì´ í•„ìš”í•  ë•Œ, ë‹¹ì‹ ì˜ ì„ íƒì€?", 
              answers: [
                  { text: "ì¹œêµ¬ë“¤ê³¼ ì‹ ë‚˜ëŠ” í™œë™ì„ í•˜ë©° ì—ë„ˆì§€ë¥¼ ì–»ëŠ”ë‹¤.", type: 'E' },
                  { text: "í˜¼ìë§Œì˜ ì‹œê°„ì„ ê°€ì§€ë©° ê¹Šì´ ìƒê°í•œë‹¤.", type: 'I' }
              ]},

            // S-N (ê°ê°-ì§ê´€)
            { id: 3, text: "ìƒˆë¡œìš´ ì•„ì´ë””ì–´ë¥¼ êµ¬ìƒí•  ë•Œ, ë‹¹ì‹ ì€?", 
              answers: [
                  { text: "í˜„ì‹¤ì ì¸ ì‹¤í–‰ ë‹¨ê³„ì™€ êµ¬ì²´ì ì¸ ìë£Œë¶€í„° ê²€í† í•œë‹¤.", type: 'S' },
                  { text: "ë¯¸ë˜ì˜ ê°€ëŠ¥ì„±ê³¼ ìˆ¨ê²¨ì§„ ì˜ë¯¸ë¥¼ ë¨¼ì € ìƒìƒí•œë‹¤.", type: 'N' }
              ]},
            { id: 4, text: "ì¹œêµ¬ê°€ ê¸´ ì´ì•¼ê¸°ë¥¼ í•  ë•Œ, ë‹¹ì‹ ì´ ì§‘ì¤‘í•˜ëŠ” ê²ƒì€?", 
              answers: [
                  { text: "ì§€ê¸ˆ ì¼ì–´ë‚œ ì¼ì˜ ì •í™•í•œ ë””í…Œì¼ê³¼ ì‚¬ì‹¤ ê´€ê³„.", type: 'S' },
                  { text: "ê·¸ ì´ì•¼ê¸°ê°€ ë‚´í¬í•˜ëŠ” ì „ì²´ì ì¸ ë©”ì‹œì§€ì™€ ì˜ê°.", type: 'N' }
              ]},

            // T-F (ì‚¬ê³ -ê°ì •)
            { id: 5, text: "ì¹œêµ¬ê°€ í˜ë“  ê³ ë¯¼ì„ í„¸ì–´ë†“ì•˜ì„ ë•Œ, ë‹¹ì‹ ì˜ ì²« ë°˜ì‘ì€?", 
              answers: [
                  { text: "ìƒí™©ì„ ê°ê´€ì ìœ¼ë¡œ ë¶„ì„í•˜ê³  í•©ë¦¬ì ì¸ í•´ê²°ì±…ì„ ì œì‹œí•œë‹¤.", type: 'T' },
                  { text: "ì¹œêµ¬ì˜ ê¸°ë¶„ì„ ë¨¼ì € ì‚´í”¼ê³  ê°ì •ì— ê¹Šì´ ê³µê°í•œë‹¤.", type: 'F' }
              ]},
            { id: 6, text: "ë‹¹ì‹ ì´ ëˆ„êµ°ê°€ë¥¼ í‰ê°€í•˜ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ê¸°ì¤€ì€?", 
              answers: [
                  { text: "ë…¼ë¦¬ì  ì¼ê´€ì„±ê³¼ íš¨ìœ¨ì ì¸ ì—…ë¬´ ëŠ¥ë ¥.", type: 'T' },
                  { text: "ë”°ëœ»í•œ ë§ˆìŒì”¨ì™€ ì¸ê°„ì ì¸ ë°°ë ¤ì‹¬.", type: 'F' }
              ]},
            
            // J-P (íŒë‹¨-ì¸ì‹)
            { id: 7, text: "ì—¬í–‰ ê³„íšì„ ì„¸ìš¸ ë•Œ, ë‹¹ì‹ ì˜ ìŠ¤íƒ€ì¼ì€?", 
              answers: [
                  { text: "ì—¬í–‰ ì „ ëª¨ë“  ì¼ì •ì„ ì§œê³  ê³„íšëŒ€ë¡œ ì›€ì§ì´ëŠ” ê²ƒì„ ì„ í˜¸í•œë‹¤.", type: 'J' },
                  { text: "í° í‹€ë§Œ ì¡ê³  ê·¸ë•Œê·¸ë•Œ ëŒë¦¬ëŠ” ëŒ€ë¡œ ì¦‰í¥ì ìœ¼ë¡œ í–‰ë™í•œë‹¤.", type: 'P' }
              ]},
            { id: 8, text: "í•´ì•¼ í•  ì¼ì´ ìƒê²¼ì„ ë•Œ, ë‹¹ì‹ ì€?", 
              answers: [
                  { text: "ë¯¸ë£¨ì§€ ì•Šê³  ë¯¸ë¦¬ ì‹œì‘í•´ì„œ ê¹”ë”í•˜ê²Œ ì²˜ë¦¬í•œë‹¤.", type: 'J' },
                  { text: "ë§ˆê°ì´ ì„ë°•í•´ì•¼ ì§‘ì¤‘ì´ ì˜ ë˜ê³  ì—­ëŸ‰ì´ ë°œíœ˜ëœë‹¤.", type: 'P' }
              ]}
        ];

        // MBTI ìœ í˜•ë³„ TWS ìŠ¤íƒ€ì¼ ë§¤í•‘ (4ê°€ì§€ ì•„í‚¤íƒ€ì…)
        const resultsMap = {
            'A': { title: "ì²­ëŸ‰ í­ë°œ! í™œë™ì ì¸ 'ìŠ¤í”„ë¼ì´íŠ¸ ë³´ì´'", mbti: "E, P íƒ€ì…", description: "ë‹¹ì‹ ì€ TWSì˜ íƒ€ì´í‹€ê³¡ì²˜ëŸ¼ í™œê¸°ì°¨ê³  ì—ë„ˆì§€ ë„˜ì¹˜ëŠ” ì¡´ì¬ì…ë‹ˆë‹¤. ìƒˆë¡œìš´ ê³³ì„ íƒí—˜í•˜ê³ , ì‚¬ëŒë“¤ê³¼ ì–´ìš¸ë¦¬ë©° ìˆœê°„ì„ ì¦ê¸°ëŠ” ê²ƒì„ ì¢‹ì•„í•´ìš”. ë‹¹ì‹ ì˜ ê¸ì •ì ì¸ ì—ë„ˆì§€ëŠ” ì£¼ë³€ ì‚¬ëŒë“¤ì—ê²Œ ì‹œì›í•œ ì²­ëŸ‰ê°ì„ ì„ ì‚¬í•©ë‹ˆë‹¤.", image: "https://placehold.co/400x200/c7e8f5/00bcd4?text=Refreshing+Boy" }, // ESTP, ESFP, ENFP, ENFJ
            'B': { title: "ê°ì„± ê°€ë“! ì‚¬ìƒ‰í•˜ëŠ” 'ë‚­ë§Œì£¼ì˜ ì†Œë…„'", mbti: "I, F íƒ€ì…", description: "ë‹¹ì‹ ì€ TWSì˜ B-side íŠ¸ë™ì²˜ëŸ¼ ê¹Šì€ ê°ì„±ê³¼ ë‚´ë©´ì˜ ì„¸ê³„ë¥¼ ê°€ì¡ŒìŠµë‹ˆë‹¤. ì¡°ìš©íˆ ìƒê°í•˜ê³ , ì„¬ì„¸í•œ ê°ê°ìœ¼ë¡œ ì„¸ìƒì˜ ì•„ë¦„ë‹¤ì›€ì„ ë°œê²¬í•˜ëŠ” ë‚­ë§Œì£¼ì˜ìì…ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ë”°ëœ»í•¨ì€ ì¡°ìš©íˆ ì£¼ë³€ì„ ìœ„ë¡œí•©ë‹ˆë‹¤.", image: "https://placehold.co/400x200/f5e0c7/d48900?text=Dreamy+Artist" }, // INFP, INFJ, ISFP, ISTP (F ì„±í–¥ì´ ê°•í•¨)
            'C': { title: "ì°¨ë¶„í•˜ê³  ë¯¿ìŒì§í•œ 'ëª¨ë²”ìƒ ì†Œë…„'", mbti: "I, J íƒ€ì…", description: "ë‹¹ì‹ ì€ TWS ë©¤ë²„ë“¤ì²˜ëŸ¼ ì‹ ë¢°ê°ì„ ì£¼ëŠ” ëª¨ë²”ì ì¸ ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤. ê³„íšì ì´ê³  ì±…ì„ê°ì´ ê°•í•´ ë§¡ì€ ì¼ì€ ë¹ˆí‹ˆì—†ì´ í•´ëƒ…ë‹ˆë‹¤. ê²‰ìœ¼ë¡œëŠ” ì°¨ë¶„í•˜ì§€ë§Œ, ì†ìœ¼ë¡œëŠ” ì¹œêµ¬ë“¤ì„ ì•„ë¼ëŠ” ë“ ë“ í•œ ë§ˆìŒì„ ê°€ì¡ŒìŠµë‹ˆë‹¤.", image: "https://placehold.co/400x200/e0f5c7/4dd400?text=Reliable+Student" }, // ISTJ, ISFJ, INTJ, INFJ (I, J ì„±í–¥ì´ ê°•í•¨)
            'D': { title: "í˜¸ê¸°ì‹¬ ë„˜ì¹˜ëŠ” 'íŠ¸ë Œë”” í¬ë¦¬ì—ì´í„°'", mbti: "E, N, T íƒ€ì…", description: "ë‹¹ì‹ ì€ í‹€ì— ë°•íˆì§€ ì•Šì€ ë…ì°½ì ì¸ ë§¤ë ¥ì˜ ì†Œìœ ìì…ë‹ˆë‹¤. ë…¼ë¦¬ì ì´ë©´ì„œë„ ê¸°ë°œí•œ ì•„ì´ë””ì–´ë¥¼ ëŠì„ì—†ì´ ë‚´ë†“ìœ¼ë©° íŠ¸ë Œë“œë¥¼ ì´ëŒì–´ê°‘ë‹ˆë‹¤. ë‹¹ì‹ ê³¼ì˜ ì‹œê°„ì€ í•­ìƒ ì‹ ì„ í•˜ê³  í¥ë¯¸ì§„ì§„í•©ë‹ˆë‹¤.", image: "https://placehold.co/400x200/c7f5e0/00d489?text=Trendy+Creator" } // ENTP, ENTJ, ESTJ, ESFJ (T, N ì„±í–¥ì´ ê°•í•¨)
        };

        const resultMappingRule = (mbti) => {
            const [E_I, S_N, T_F, J_P] = mbti.split('');

            if ((E_I === 'E' || J_P === 'P') && (T_F === 'F' || S_N === 'N')) return 'A'; // Refreshing (í™œë™ì ì´ê³  ê°ì„±ì )
            if (E_I === 'I' && T_F === 'F' && S_N === 'N') return 'B'; // Dreamy (ë‚´í–¥ì ì´ê³  ê°ì„±ì /ì§ê´€ì )
            if (E_I === 'I' && T_F === 'T' && J_P === 'J') return 'C'; // Reliable (ë‚´í–¥ì ì´ê³  ì´ì„±ì /ê³„íšì )
            if (E_I === 'E' && T_F === 'T' && S_N === 'S') return 'D'; // Trendy (ì™¸í–¥ì ì´ê³  ì´ì„±ì /í˜„ì‹¤ì )
            
            // ë³µì¡í•œ ê²½ìš°ë¥¼ ìœ„í•œ ê¸°ë³¸ê°’ ì„¤ì •
            if (E_I === 'E') return 'A';
            if (J_P === 'J') return 'C';
            if (T_F === 'F') return 'B';
            return 'D';
        };

        // DOM ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
        const startPage = document.getElementById('start-page');
        const questionPage = document.getElementById('question-page');
        const resultPage = document.getElementById('result-page');
        const startButton = document.getElementById('start-button');
        const restartButton = document.getElementById('restart-button');
        const questionText = document.getElementById('question-text');
        const answerButtonsDiv = document.getElementById('answer-buttons');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        const resultTitle = document.getElementById('result-title');
        const resultDescription = document.getElementById('result-description');
        const resultType = document.getElementById('result-type');
        const resultContent = document.getElementById('result-content');
        const loadingSpinner = document.getElementById('loading-spinner');

        let currentQuestionIndex = 0;
        let scores = { 'E': 0, 'I': 0, 'S': 0, 'N': 0, 'T': 0, 'F': 0, 'J': 0, 'P': 0 };

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
        startButton.addEventListener('click', startTest);
        restartButton.addEventListener('click', startTest);

        function startTest() {
            currentQuestionIndex = 0;
            scores = { 'E': 0, 'I': 0, 'S': 0, 'N': 0, 'T': 0, 'F': 0, 'J': 0, 'P': 0 };

            startPage.classList.add('hidden');
            resultPage.classList.add('hidden');
            resultContent.classList.add('hidden');
            loadingSpinner.classList.add('hidden');
            questionPage.classList.remove('hidden');

            loadQuestion();
        }

        function loadQuestion() {
            if (currentQuestionIndex < questions.length) {
                const q = questions[currentQuestionIndex];
                
                questionText.textContent = q.text;

                answerButtonsDiv.innerHTML = '';
                
                q.answers.forEach(answer => {
                    const button = document.createElement('button');
                    button.textContent = answer.text;
                    button.dataset.type = answer.type;
                    button.className = 'btn-answer w-full bg-blue-50 text-gray-700 p-4 rounded-xl text-lg font-medium text-left'; 
                    button.addEventListener('click', handleAnswer);
                    answerButtonsDiv.appendChild(button);
                });

                updateProgressBar();
            } else {
                showResult();
            }
        }

        function handleAnswer(event) {
            const selectedType = event.target.dataset.type;
            scores[selectedType]++;

            currentQuestionIndex++;
            loadQuestion();
        }

        function updateProgressBar() {
            const progress = (currentQuestionIndex / questions.length) * 100;
            progressBar.style.width = `${progress}%`;
            progressText.textContent = `${currentQuestionIndex}/${questions.length}`;
        }

        function showResult() {
            questionPage.classList.add('hidden');
            resultPage.classList.remove('hidden');
            loadingSpinner.classList.remove('hidden');

            // 1. MBTI ìœ í˜• ê³„ì‚°
            const mbti = 
                (scores['E'] > scores['I'] ? 'E' : 'I') +
                (scores['S'] > scores['N'] ? 'S' : 'N') +
                (scores['T'] > scores['F'] ? 'T' : 'F') +
                (scores['J'] > scores['P'] ? 'J' : 'P');

            // 2. TWS ìŠ¤íƒ€ì¼ ì•„í‚¤íƒ€ì… ë§¤í•‘
            const archetypeKey = resultMappingRule(mbti);
            const result = resultsMap[archetypeKey];

            // ë¡œë”© ì‹œë®¬ë ˆì´ì…˜ í›„ ê²°ê³¼ í‘œì‹œ
            setTimeout(() => {
                loadingSpinner.classList.add('hidden');
                resultContent.classList.remove('hidden');

                // ê²°ê³¼ í™”ë©´ ì—…ë°ì´íŠ¸
                resultTitle.textContent = result.title;
                resultDescription.textContent = result.description;
                resultType.textContent = `(MBTI ì„±í–¥: ${mbti}, í•µì‹¬ íƒ€ì…: ${result.mbti})`;

                // ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸ (Tailwind í´ë˜ìŠ¤ë„ í•¨ê»˜)
                const resultImage = document.getElementById('result-image');
                resultImage.src = result.image;
                resultImage.alt = `${result.title} ì´ë¯¸ì§€`;

                // ë‹¤ì‹œ ì‹œì‘ ë²„íŠ¼ ìƒ‰ìƒ ë³€ê²½
                restartButton.className = 'w-full mt-8 bg-[#00bcd4] hover:bg-[#0097a7] text-white font-bold py-3 rounded-full text-lg transition duration-300';
            }, 1500); // 1.5ì´ˆ ë¡œë”© ì‹œê°„ ë¶€ì—¬
        }

        // ì´ˆê¸° ë¡œë“œ ì‹œ ì‹œì‘ í™”ë©´ í‘œì‹œ
        document.addEventListener('DOMContentLoaded', () => {
            // ì´ˆê¸° ìƒíƒœ ì„¤ì •
            startPage.classList.remove('hidden');
        });
    </script>
</body>
</html>
